---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
# image will be published to ghcr.io/<user>/<name>
name: myaurorabluebuild
# description will be included in the image's metadata
description: Aurora-based image with maccel mouse acceleration and custom packages

# the base image to build on top of (FROM) and the version tag to use
# Base image options:
#   ghcr.io/ublue-os/aurora-nvidia  - NVIDIA drivers (default)
#   ghcr.io/ublue-os/aurora         - AMD/Intel graphics
#   ghcr.io/ublue-os/aurora-dx      - Developer experience variant
base-image: ghcr.io/ublue-os/aurora-nvidia

# Version options:
#   latest  - Automatic updates (recommended)
#   40      - Fedora 40
#   41      - Fedora 41
#   stable  - Latest stable release
image-version: latest

# module configuration, executed in order
# you can include multiple instances of the same module
modules:
  # Custom maccel integration (must be first for dependencies)
  # This script handles kernel version detection, RPM package coordination,
  # and installation of maccel mouse acceleration
  - type: script
    scripts:
      - install-maccel.sh

  # Package management - remove unwanted packages
  - type: dnf
    remove:
      packages:
        - sunshine  # Game streaming (remove if not needed)

  # Package management - add desired packages  
  - type: dnf
    install:
      packages:
        - htop  # Process viewer

  # Flatpak management
  - type: default-flatpaks
    configurations:
      - notify: true # Send notification after install/uninstall is finished (true/false)
        scope: system
        # Remove unwanted Flatpaks
        remove:
          - org.mozilla.Thunderbird  # Email client
        # Add desired Flatpaks
        install:
          - org.keepassxc.KeePassXC  # Password manager

  # Image signing (must be last) - uses keyless signing by default
  - type: signing
